# =============================================================================
# Local RAG Environment Configuration Template
# =============================================================================
#
# Copy this file to .env and customize the values as needed:
#   cp .env.example .env
#
# SECURITY WARNING: Never commit .env to version control!
# Add .env to your .gitignore file.
# =============================================================================

# -----------------------------------------------------------------------------
# Volume Storage
# -----------------------------------------------------------------------------
# Directory for Docker volumes (relative to docker-compose.yml)
DOCKER_VOLUME_DIRECTORY=.

# -----------------------------------------------------------------------------
# MinIO (Object Storage)
# -----------------------------------------------------------------------------
# CRITICAL: Change these credentials in production!
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_CONSOLE_PORT=9001
MINIO_API_PORT=9000
MINIO_VERSION=RELEASE.2023-03-20T20-16-18Z

# -----------------------------------------------------------------------------
# Milvus (Vector Database)
# -----------------------------------------------------------------------------
MILVUS_HOST=standalone
MILVUS_PORT=19530
MILVUS_METRICS_PORT=9091
MILVUS_VERSION=v2.3.5

# -----------------------------------------------------------------------------
# etcd (Metadata Store for Milvus)
# -----------------------------------------------------------------------------
ETCD_VERSION=v3.5.5
ETCD_AUTO_COMPACTION_MODE=revision
ETCD_AUTO_COMPACTION_RETENTION=1000
ETCD_QUOTA_BACKEND_BYTES=4294967296
ETCD_SNAPSHOT_COUNT=50000
ETCD_CLIENT_PORT=2379

# -----------------------------------------------------------------------------
# Application Ports
# -----------------------------------------------------------------------------
BACKEND_PORT=8000
FRONTEND_PORT=80

# -----------------------------------------------------------------------------
# Ollama Integration
# -----------------------------------------------------------------------------
# For Docker: Use host.docker.internal to access host machine
# For local development without Docker: Use http://localhost:11434
OLLAMA_HOST=http://host.docker.internal:11434

# -----------------------------------------------------------------------------
# Python Configuration
# -----------------------------------------------------------------------------
PYTHONUNBUFFERED=1

# -----------------------------------------------------------------------------
# Internal Service Endpoints (Container-to-Container Communication)
# -----------------------------------------------------------------------------
# These should match the service names in docker-compose.yml
ETCD_ENDPOINTS=etcd:2379
MINIO_ADDRESS=minio:9000

# -----------------------------------------------------------------------------
# Container Names
# -----------------------------------------------------------------------------
ETCD_CONTAINER_NAME=local-rag-metadata-store
MINIO_CONTAINER_NAME=local-rag-object-storage
MILVUS_CONTAINER_NAME=local-rag-vector-db
BACKEND_CONTAINER_NAME=local-rag-backend
FRONTEND_CONTAINER_NAME=local-rag-frontend

# -----------------------------------------------------------------------------
# Network Configuration
# -----------------------------------------------------------------------------
NETWORK_NAME=local-rag-network

# -----------------------------------------------------------------------------
# Healthcheck Configuration (Advanced)
# -----------------------------------------------------------------------------
# Uncomment and modify if you need to customize healthcheck behavior

# etcd
ETCD_HEALTHCHECK_INTERVAL=30s
ETCD_HEALTHCHECK_TIMEOUT=20s
ETCD_HEALTHCHECK_RETRIES=3

# MinIO
MINIO_HEALTHCHECK_INTERVAL=30s
MINIO_HEALTHCHECK_TIMEOUT=20s
MINIO_HEALTHCHECK_RETRIES=3

# Milvus
MILVUS_HEALTHCHECK_INTERVAL=30s
MILVUS_HEALTHCHECK_START_PERIOD=90s
MILVUS_HEALTHCHECK_TIMEOUT=20s
MILVUS_HEALTHCHECK_RETRIES=3

# Backend
BACKEND_HEALTHCHECK_INTERVAL=30s
BACKEND_HEALTHCHECK_TIMEOUT=10s
BACKEND_HEALTHCHECK_RETRIES=3
BACKEND_HEALTHCHECK_START_PERIOD=40s

# Frontend
FRONTEND_HEALTHCHECK_INTERVAL=30s
FRONTEND_HEALTHCHECK_TIMEOUT=3s
FRONTEND_HEALTHCHECK_RETRIES=3
FRONTEND_HEALTHCHECK_START_PERIOD=10s
